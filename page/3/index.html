<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java, Android, 移动互联网, 移动开发, 技术分享" />





  <link rel="alternate" href="http://proliang.com/feed" title="PRO.LIANG" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="人一定要靠自己！">
<meta property="og:type" content="website">
<meta property="og:title" content="PRO.LIANG">
<meta property="og:url" content="http://proliang.com/page/3/index.html">
<meta property="og:site_name" content="PRO.LIANG">
<meta property="og:description" content="人一定要靠自己！">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PRO.LIANG">
<meta name="twitter:description" content="人一定要靠自己！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://proliang.com/page/3/"/>





  <title> PRO.LIANG </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ad5e52857f2fcc80fc6d4c0621b757e3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">PRO.LIANG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">专注于移动互联网和Android开发</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/riches-family.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/riches-family.html" itemprop="url">
                  出身富贵人家到底有什么地方值得人向往？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-12-02T19:34:31+08:00">
                2014-12-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/浮生若梦/" itemprop="url" rel="index">
                    <span itemprop="name">浮生若梦</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/riches-family.html" class="leancloud_visitors" data-flag-title="出身富贵人家到底有什么地方值得人向往？">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>孩子在真正接触社会之前，是站在父母的肩膀上看这个世界的，父母能够站多高，很大程度上决定了孩子的眼界、知识面。“不知道”不可怕，可以通过自己的努力去知道，“不知道自己不知道”才可怕，而穷人家的孩子，很多时候就是“不知道自己不知道”，能通过机遇和努力“知道自己不知道”的，都是幸运儿。</p>
<p>我初中在我们市W区重点中学念书。我们家就在W区，而这个区是我们市的老区，说白了住的都是一些穷人，有钱人都搬到条件更好的N区住。初中3年，我在班里雄踞第一名，全校也基本上是前几名，最后中考更是破天荒的考上了我们省最好的高中S中，这所高中就在N区。</p>
<p>等我带着满满的骄傲到这所高中上学的时候才发现，我的高中同学，非富即贵，不能说完全没有像我这样穷人家的孩子，但一个班里，充其量不超过10个。其它人的父母，为官的，经商的，大学教书的… …他们很多人的初中，就是N区的重点中学，跟我读的W区的重点中学完全不是一个水平上的，他们几乎一个班连窝端考到S高中，很多人在初中就参加各种全国的数理化竞赛… …</p>
<p>我原本以为我的英语口语还不错，但后来惊讶的发现，我的很多同学口语的流利程度跟我在磁带里听到的差不多，他们的父母往往在他们5、6岁就开始英语熏陶；我原本以为自己看过不少书，懂得不少知识，后来发现班里很多男生谈起各国政治，哲学，心理学，那些问题我想都没想过，那些头头是道观点我听都没听过，而那些问题和观点，很多是他们从父母口中或者父母的书架上学来的。</p>
<p>我有位好朋友，母亲在省财政厅工作，父亲在建行任高职，她给我推荐了很多她母亲建议她读的外国小说，在那之前，我是看我妈给我买的《花季雨季》的。高中三年，这位好朋友跟我的成绩差不多，在班里中等水平，虽然上不了北清，但考上个好的一本还是没问题的。那段时间，我父母只会无休止的给我压力，让我努力学习，考上个好学校。而我好朋友的父母，直接帮她申请的了英国的预科学校，学了一年语言之后，考了英国的大学。当年还有一个机会，是新加坡的大学来我们高中招培训生，高额奖学金，但大学之后要为新加坡服务4年，等于是个人才引进项目吧。我回家跟我父母说，他们担心我一个人在那么远的地方能不能行，干脆没有让我去参加报名考试。而我们班有2、3位同学，就是通过这样的方式去了新加坡，然后以此为跳板，出国读书之类。我说这个例子不是想说有钱能使鬼推磨，因为如果我父母能够意识到这些资源的重要性，我相信以他们对我的爱也会想办法给我的；我也不是想说我父母耽误了我的前途，只是想比较不同的父母的差别，其实我父母根本不知道，也不敢想象除了高考之外，还有什么其他的人生途径。</p>
<p>所以我一直认为，富贵人家的孩子，最宝贵的财富就在于，他们的父母比你的父母知道的更多，能够在人生的关键时刻给他们更多的指导，让他们少走弯路甚至走捷径，而穷人家的孩子，没有这些指导，只能自己慢慢扑腾，慢慢摸索，也许碰的头破血流之后成了，也许头破血流之后死了。（来源/知乎，文/佚名）</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/autoipdial.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/autoipdial.html" itemprop="url">
                  长话无忧(程序员级Android自动IP拨号器) 1.0 发布
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-23T17:09:13+08:00">
                2014-11-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程之外/" itemprop="url" rel="index">
                    <span itemprop="name">编程之外</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/autoipdial.html" class="leancloud_visitors" data-flag-title="长话无忧(程序员级Android自动IP拨号器) 1.0 发布">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一个自用的小App拿出来给大家分享一下！</p>
<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>移动号码打长途加拨17951这种东西我就不多介绍了，这个App就是做这个的，可以自动加拨IP号。<span style="color: #ff0000;"><br></span>其实市场上已经有很多可以自动加拨IP号的软件了，这功能对其他软件来说都是附带的，例如xxx卫士，其他通讯录软件等等，也有一些专门做这个功能的。我自己曾经也下载过用过几个，但是基本上都是安装上用不了几天就卸载了，有几个原因：<br>1.广告多，有些转做这功能的app，是各种广告条广告墙，受不了！<br>2.权限多，那些软件很多都是申请了读取通讯录权限，读写短信权限，获取位置权限等等。这些基本不敢用，不知道通讯录读了多少遍了，隐私都泄漏多少了～<br>3.功能多，有的人或许喜欢功能比较多的，但是我个人比较喜欢功能单一简单的精简的APP，曾经就是想找一款专门自动加拨IP号的软件，很难找到，找到也是有广告多，权限多的问题。<br>出于这些原因，我就自己做了一个专门自动加拨IP号的小App。<br>这个app无广告，包很小，最多的其实是离线的号码归属地数据库，只需要一个拨号权限(android.permission.PROCESS_OUTGOING_CALLS)，其他什么权限都不需要，甚至联网权限。<br>使用了一些时间之后感觉还不错，所以发出来分享一下～下面随便展示几张截图吧，功能很简单</p>
<h3 id="截图"><a href="#截图" class="headerlink" title="截图"></a>截图</h3><p><a href="http://static.proliang.com/2014/11/device-2014-12-03-161119.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/11/device-2014-12-03-161119-180x300.png" alt="device-2014-12-03-161119"></a></p>
<p><a href="http://static.proliang.com/2014/11/device-2014-12-03-161210.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/11/device-2014-12-03-161210.png" alt="device-2014-12-03-161210"></a></p>
<p><a href="http://static.proliang.com/2014/11/device-2014-12-03-161227.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/11/device-2014-12-03-161227.png" alt="device-2014-12-03-161227"></a></p>
<p><a href="http://static.proliang.com/2014/11/device-2014-12-03-161325.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/11/device-2014-12-03-161325.png" alt="device-2014-12-03-161325"></a></p>
<p><a href="http://static.proliang.com/2014/11/device-2014-12-03-161308.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/11/device-2014-12-03-161308.png" alt="device-2014-12-03-161308"></a></p>
<p>[caption id=”attachment_216” align=”alignnone” width=”24”]<a href="http://static.proliang.com/2014/11/laugh.gif" target="_blank" rel="external"><img src="http://static.proliang.com/2014/11/laugh.gif" alt="laugh"></a> ~[/caption]</p>
<p>截图就这几张，很简单很单一的这一个功能！希望有人会喜欢！</p>
<h3 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h3><p>本站下载：<a href="http://proliang.com/files/AutoIPDial-v1.0.apk">点击下载</a><br>百度云盘下载：<a href="http://pan.baidu.com/s/1qW2qf16" target="_blank" rel="external">点击下载</a></p>
<h3 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h3><p>这个程序本身其实很简单，难的在于手机号码归属地的收集，我这里是用的一个网友收集好的数据在这里特别感谢<br>木头杂货铺(wood’s blog)，<a href="http://duanmu.org/" target="_blank" rel="external">http://duanmu.org/</a></p>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>这程序没有申请联网程序，也没有什么数据统计，如果有人喜欢这个App的话就来写个评论，让我知道～<br>然后此App没有自动更新功能，数据库是离线的，所以我这里可能会不定期的更新一下数据库。需要的到时候自行来看一看～</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/functions-edit-log.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/functions-edit-log.html" itemprop="url">
                  functions修改记录
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-20T14:36:49+08:00">
                2014-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂记/" itemprop="url" rel="index">
                    <span itemprop="name">杂记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/functions-edit-log.html" class="leancloud_visitors" data-flag-title="functions修改记录">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>functions修改记录，以备主题升级或者主题更换</p>
<h3 id="2014-08-08，使用ajax评论"><a href="#2014-08-08，使用ajax评论" class="headerlink" title="2014-08-08，使用ajax评论"></a>2014-08-08，使用ajax评论</h3><p>functions.php增加一下代码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//comments-ajax by liang at 20140808</span></div><div class="line"><span class="comment">//使用ajax评论</span></div><div class="line"><span class="keyword">if</span> (!is_admin()) &#123;</div><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">proliang_load_comment_ajax_scripts</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="comment">#wp_enqueue_script('jquery');</span></div><div class="line">		<span class="keyword">if</span> (is_singular()) &#123;</div><div class="line">			wp_enqueue_script(<span class="string">'comments_ajax_js'</span>, (get_template_directory_uri().&amp;quot;/comments-ajax.js&amp;quot;), <span class="keyword">false</span>, <span class="string">'1.3'</span>, <span class="keyword">true</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	add_action(<span class="string">'wp_enqueue_scripts'</span>, <span class="string">'proliang_load_comment_ajax_scripts'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//comments-ajax end</span></div></pre></td></tr></table></figure>
<p>其他修改参照<a href="http://proliang.com/use-ajax-comments.html" title="增加ajax评论小记">增加ajax评论小记</a></p>
<h3 id="2014-10-27，修改Google-founts加载"><a href="#2014-10-27，修改Google-founts加载" class="headerlink" title="2014-10-27，修改Google founts加载"></a>2014-10-27，修改Google founts加载</h3><p>Google被墙，导致字体不能加载，增加以下代码把字体源换成360</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//google font by liang at 20141027</span></div><div class="line"><span class="comment">//修改google字体到 useso.com,360的CDN</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">wpdx_replace_open_sans</span><span class="params">()</span> </span>&#123;</div><div class="line">  wp_deregister_style(<span class="string">'open-sans'</span>);</div><div class="line">  wp_register_style( <span class="string">'open-sans'</span>, <span class="string">'//fonts.useso.com/css?family=Open+Sans:300italic,400italic,600italic,300,400,600'</span> );</div><div class="line">  <span class="keyword">if</span>(is_admin()) wp_enqueue_style( <span class="string">'open-sans'</span>);</div><div class="line">&#125;</div><div class="line">add_action( <span class="string">'init'</span>, <span class="string">'wpdx_replace_open_sans'</span> );</div><div class="line"><span class="comment">//google font end</span></div></pre></td></tr></table></figure>
<h3 id="2014-11-20-修复Gravatar头像不能显示问题"><a href="#2014-11-20-修复Gravatar头像不能显示问题" class="headerlink" title="2014-11-20,修复Gravatar头像不能显示问题"></a>2014-11-20,修复Gravatar头像不能显示问题</h3><p>gravatar部分域名被墙，导致自己头像和评论头像不能显示，增加以下代码可把头像源改为https</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//gravatar by liang at 20141120</span></div><div class="line"><span class="comment">//gravatar被墙，头像不显示问题解决</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_ssl_avatar</span><span class="params">($avatar)</span> </span>&#123;</div><div class="line">   $avatar = preg_replace(<span class="string">'/.*\/avatar\/(.*)\?s=([\d]+)&amp;amp;.*/'</span>,<span class="string">'&amp;lt;img src=&amp;quot;https://secure.gravatar.com/avatar/$1?s=$2&amp;quot; class=&amp;quot;avatar avatar-$2&amp;quot; height=&amp;quot;$2&amp;quot; width=&amp;quot;$2&amp;quot;&amp;gt;'</span>,$avatar);</div><div class="line">   <span class="keyword">return</span> $avatar;</div><div class="line">&#125;</div><div class="line">add_filter(<span class="string">'get_avatar'</span>, <span class="string">'get_ssl_avatar'</span>);</div><div class="line"><span class="comment">//gravatar end</span></div></pre></td></tr></table></figure>
<h3 id="2015-01-21"><a href="#2015-01-21" class="headerlink" title="2015-01-21"></a>2015-01-21</h3><p>增加功能，评论回复邮件通知，包括两种情况<br>1.未被批准的评论回复，会在被批准时发送邮件<br>2.已被批准的人在回复别人评论时，会立即发送邮件</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">//评论回复被审核之后发送邮件通知</div><div class="line">function commit_reply_approved($comment) &#123;</div><div class="line"> $parent_id = $comment-&amp;gt;comment_parent ? $comment-&amp;gt;comment_parent : '';</div><div class="line"> $spam_confirmed = $comment-&amp;gt;comment_approved;</div><div class="line"> if (($parent_id != '') &amp;amp;&amp;amp; ($spam_confirmed == '1')) &#123;</div><div class="line"> $post_link = get_permalink($comment-&amp;gt;comment_post_ID);</div><div class="line"> $wp_email = 'admin@proliang.com';</div><div class="line"> $to = trim(get_comment($parent_id)-&amp;gt;comment_author_email);</div><div class="line"> $author_email=$comment-&amp;gt;comment_author_email;//评论人邮箱</div><div class="line"> $admin_email = get_bloginfo ('admin_email');//管理员邮箱</div><div class="line"> if($to == $admin_email || $to == $author_email) &#123;</div><div class="line"> return;</div><div class="line"> &#125;</div><div class="line"> $subject = '您在 [' . get_option(&amp;quot;blogname&amp;quot;) . '] 发表的评论收到了回复';</div><div class="line"> $message = '</div><div class="line"> &amp;lt;div style=&amp;quot;background-color:#eef2fa; border:1px solid #d8e3e8; color:#111; padding:0 15px; -moz-border-radius:5px; -webkit-border-radius:5px; -khtml-border-radius:5px;&amp;quot;&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;' . trim(get_comment($parent_id)-&amp;gt;comment_author) . ', 您好!&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;您在《&amp;lt;a href=&amp;quot;'.$post_link.'&amp;quot;&amp;gt;'. get_the_title($comment-&amp;gt;comment_post_ID) . '&amp;lt;/a&amp;gt;》发表的评论:&amp;lt;br /&amp;gt;'</div><div class="line"> . trim(get_comment($parent_id)-&amp;gt;comment_content) . '&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;' . trim($comment-&amp;gt;comment_author) . ' 给您的回复:&amp;lt;br /&amp;gt;'</div><div class="line"> . trim($comment-&amp;gt;comment_content) . '&amp;lt;br /&amp;gt;&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;您可以点击 &amp;lt;a href=&amp;quot;' . htmlspecialchars(get_comment_link($parent_id,array(&amp;quot;type&amp;quot; =&amp;gt; &amp;quot;all&amp;quot;))) . '&amp;quot;&amp;gt;查看回复的完整內容&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;欢迎再度光临 &amp;lt;a href=&amp;quot;' . get_option('home') . '&amp;quot;&amp;gt;' . get_option('blogname') . '&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;(此邮件由系统自动发送，请勿回复.)&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;/div&amp;gt;';</div><div class="line"> $from = &amp;quot;From: \&amp;quot;&amp;quot; . get_option('blogname') . &amp;quot;\&amp;quot; &amp;lt;$wp_email&amp;gt;&amp;quot;;</div><div class="line"> $headers = &amp;quot;$from\nContent-Type: text/html; charset=&amp;quot; . get_option('blog_charset') . &amp;quot;\n&amp;quot;;</div><div class="line"> wp_mail( $to, $subject, $message, $headers );</div><div class="line"> &#125;</div><div class="line">&#125;</div><div class="line">add_action('comment_unapproved_to_approved', 'commit_reply_approved');</div><div class="line">//评论被已批准过的人回复时，发送邮件通知</div><div class="line">function commit_reply_notify($comment_id) &#123;</div><div class="line"> $comment = get_comment($comment_id);</div><div class="line"> $parent_id = $comment-&amp;gt;comment_parent ? $comment-&amp;gt;comment_parent : '';</div><div class="line"> $spam_confirmed = $comment-&amp;gt;comment_approved;</div><div class="line"> if (($parent_id != '') &amp;amp;&amp;amp; ($spam_confirmed == '1')) &#123;</div><div class="line"> $post_link = get_permalink($comment-&amp;gt;comment_post_ID);</div><div class="line"> $wp_email = 'admin@proliang.com';</div><div class="line"> $to = trim(get_comment($parent_id)-&amp;gt;comment_author_email);</div><div class="line"> $author_email=$comment-&amp;gt;comment_author_email;//评论人邮箱</div><div class="line"> $admin_email = get_bloginfo ('admin_email');//管理员邮箱</div><div class="line"> if($to == $admin_email || $to == $author_email) &#123;</div><div class="line"> return;</div><div class="line"> &#125;</div><div class="line"> $subject = '您在 [' . get_option(&amp;quot;blogname&amp;quot;) . '] 发表的评论收到了回复';</div><div class="line"> $message = '</div><div class="line"> &amp;lt;div style=&amp;quot;background-color:#eef2fa; border:1px solid #d8e3e8; color:#111; padding:0 15px; -moz-border-radius:5px; -webkit-border-radius:5px; -khtml-border-radius:5px;&amp;quot;&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;' . trim(get_comment($parent_id)-&amp;gt;comment_author) . ', 您好!&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;您在《&amp;lt;a href=&amp;quot;'.$post_link.'&amp;quot;&amp;gt;'. get_the_title($comment-&amp;gt;comment_post_ID) . '&amp;lt;/a&amp;gt;》发表的评论:&amp;lt;br /&amp;gt;'</div><div class="line"> . trim(get_comment($parent_id)-&amp;gt;comment_content) . '&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;' . trim($comment-&amp;gt;comment_author) . ' 给您的回复:&amp;lt;br /&amp;gt;'</div><div class="line"> . trim($comment-&amp;gt;comment_content) . '&amp;lt;br /&amp;gt;&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;您可以点击 &amp;lt;a href=&amp;quot;' . htmlspecialchars(get_comment_link($parent_id,array(&amp;quot;type&amp;quot; =&amp;gt; &amp;quot;all&amp;quot;))) . '&amp;quot;&amp;gt;查看回复的完整內容&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;欢迎再度光临 &amp;lt;a href=&amp;quot;' . get_option('home') . '&amp;quot;&amp;gt;' . get_option('blogname') . '&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;p&amp;gt;(此邮件由系统自动发送，请勿回复.)&amp;lt;/p&amp;gt;</div><div class="line"> &amp;lt;/div&amp;gt;';</div><div class="line"> $from = &amp;quot;From: \&amp;quot;&amp;quot; . get_option('blogname') . &amp;quot;\&amp;quot; &amp;lt;$wp_email&amp;gt;&amp;quot;;</div><div class="line"> $headers = &amp;quot;$from\nContent-Type: text/html; charset=&amp;quot; . get_option('blog_charset') . &amp;quot;\n&amp;quot;;</div><div class="line"> wp_mail( $to, $subject, $message, $headers );</div><div class="line"> &#125;</div><div class="line">&#125;</div><div class="line">add_action('comment_post', 'commit_reply_notify');</div></pre></td></tr></table></figure>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>GFW真是疯了～</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/dialog-custom-style.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/dialog-custom-style.html" itemprop="url">
                  Android自定义Dialog去黑框
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-10-27T19:25:28+08:00">
                2014-10-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/dialog-custom-style.html" class="leancloud_visitors" data-flag-title="Android自定义Dialog去黑框">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>去掉黑框 style</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&amp;lt;style name=&amp;quot;dialog&amp;quot; parent=&amp;quot;@android:style/Theme.Dialog&amp;quot;&amp;gt;</div><div class="line">&amp;lt;item name=&amp;quot;android:windowNoTitle&amp;quot;&amp;gt;true&amp;lt;/item&amp;gt;</div><div class="line">&amp;lt;item name=&amp;quot;android:background&amp;quot;&amp;gt;@android:color/transparent&amp;lt;/item&amp;gt;</div><div class="line">&amp;lt;item name=&amp;quot;android:windowBackground&amp;quot;&amp;gt;@android:color/transparent&amp;lt;/item&amp;gt;</div><div class="line">&amp;lt;item name=&amp;quot;android:colorBackgroundCacheHint&amp;quot;&amp;gt;@null&amp;lt;/item&amp;gt;</div><div class="line">&amp;lt;item name=&amp;quot;android:windowIsTranslucent&amp;quot;&amp;gt;true&amp;lt;/item&amp;gt;</div><div class="line">&amp;lt;/style&amp;gt;</div></pre></td></tr></table></figure>
<p>使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Dialog dialog = <span class="keyword">new</span> Dialog(<span class="keyword">this</span>, R.style.dialog);</div><div class="line">View view = getLayoutInflater().inflate(R.layout.dialog_us, <span class="keyword">null</span>, <span class="keyword">false</span>);</div><div class="line"><span class="comment">//TODO views process</span></div><div class="line">dialog.setContentView(view);</div><div class="line">dialog.setCanceledOnTouchOutside(<span class="keyword">false</span>);</div><div class="line">dialog.show();</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/tai-ji-quan-lun.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/tai-ji-quan-lun.html" itemprop="url">
                  王宗岳太极拳论
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-24T23:52:44+08:00">
                2014-09-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/太极拳/" itemprop="url" rel="index">
                    <span itemprop="name">太极拳</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/tai-ji-quan-lun.html" class="leancloud_visitors" data-flag-title="王宗岳太极拳论">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>太极者，无极而生，动静之机，阴阳之母也。动之则分，静之则合。无过不及，随曲就伸。人刚我柔谓之走，我顺人背谓之粘。动急则急应，动缓则缓随。虽变化万端，而理唯一贯。由著熟而渐悟懂劲，由懂劲而阶及神明。然非用力之久不能豁然贯通焉。虚领顶劲，气沉丹田，不偏不倚，忽隐忽现。左重则左虚，右重则右杳。仰之则弥高，俯之则弥深。进之则愈长，退之则愈促。一羽不能加，蝇虫不能落。人不知我，我独知人。英雄所向无敌，盖皆由此而及也！斯技旁门甚多，虽势有区别，概不外“壮欺弱”、“慢让快”耳，有力打无力，手慢让手快，是皆先天自然之能，非关学力而有也。察四两拨千斤之句，显非力胜！观耄耋御众之形，快何能为？立如枰凖，活似车轮，偏沈则随，双重则滞。每见数年纯功不能运化者，率皆自为人制，双重之病未悟耳。欲避此病，须知阴阳，粘即是走，走即是粘，阳不离阴，阴不离阳，阴阳相济，方为懂劲。懂劲后愈练愈精，默识揣摩，渐至从心所欲。本是舍已从人，多误舍近求远，所谓差之毫厘，谬之千里，学者不可不详辨焉！是为论。</p>
<p><a href="http://static.proliang.com/2014/09/4a36acaf2edda3ccda9e5f5a01e93901213f9256.gif" target="_blank" rel="external"><img src="http://static.proliang.com/2014/09/d53f8794a4c27d1ed25cdcbe1bd5ad6eddc43855.gif" alt="d53f8794a4c27d1ed25cdcbe1bd5ad6eddc43855"></a></p>
<p><a href="http://static.proliang.com/2014/09/4a36acaf2edda3ccda9e5f5a01e93901213f9256.gif" target="_blank" rel="external"><img src="http://static.proliang.com/2014/09/9f2f070828381f30a1636ad3a9014c086e06f056.gif" alt="9f2f070828381f30a1636ad3a9014c086e06f056"></a></p>
<p><a href="http://static.proliang.com/2014/09/4a36acaf2edda3ccda9e5f5a01e93901213f9256.gif" target="_blank" rel="external"><img src="http://static.proliang.com/2014/09/4a36acaf2edda3ccda9e5f5a01e93901213f9256.gif" alt="4a36acaf2edda3ccda9e5f5a01e93901213f9256"></a></p>
<p>&nbsp;</p>
<p><a href="http://static.proliang.com/2014/09/d0c8a786c9177f3e8d4e1b7770cf3bc79f3d5656.gif" target="_blank" rel="external"><img src="http://static.proliang.com/2014/09/d0c8a786c9177f3e8d4e1b7770cf3bc79f3d5656.gif" alt="d0c8a786c9177f3e8d4e1b7770cf3bc79f3d5656"></a></p>
<p>&nbsp;</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/android-app-install.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/android-app-install.html" itemprop="url">
                  Android App安装/升级/卸载过程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-09-04T11:58:37+08:00">
                2014-09-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/android-app-install.html" class="leancloud_visitors" data-flag-title="Android App安装/升级/卸载过程">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>D/InstallReceiver(4440): received action:android.intent.action.PACKAGE_ADDED<br>D/InstallReceiver(4440): package:com.youyuan.yyhl<br>D/InstallReceiver(4440): extras size:1<br>D/InstallReceiver(4440): key:android.intent.extra.UID;value:10106<br>D/InstallReceiver(4440): ——————————————————–</p>
<h3 id="Replace"><a href="#Replace" class="headerlink" title="Replace"></a>Replace</h3><p>D/InstallReceiver(4440): received action:android.intent.action.PACKAGE_REMOVED<br>D/InstallReceiver(4440): package:com.youyuan.yyhl<br>D/InstallReceiver(4440): extras size:3<br>D/InstallReceiver(4440): key:android.intent.extra.DATA_REMOVED;value:false<br>D/InstallReceiver(4440): key:android.intent.extra.REPLACING;value:true<br>D/InstallReceiver(4440): key:android.intent.extra.UID;value:10106<br>D/InstallReceiver(4440): ——————————————————–<br>D/InstallReceiver(4440): received action:android.intent.action.PACKAGE_ADDED<br>D/InstallReceiver(4440): package:com.youyuan.yyhl<br>D/InstallReceiver(4440): extras size:2<br>D/InstallReceiver(4440): key:android.intent.extra.REPLACING;value:true<br>D/InstallReceiver(4440): key:android.intent.extra.UID;value:10106<br>D/InstallReceiver(4440): ——————————————————–<br>D/InstallReceiver(4440): received action:android.intent.action.PACKAGE_REPLACED<br>D/InstallReceiver(4440): package:com.youyuan.yyhl<br>D/InstallReceiver(4440): extras size:2<br>D/InstallReceiver(4440): key:android.intent.extra.REPLACING;value:true<br>D/InstallReceiver(4440): key:android.intent.extra.UID;value:10106<br>D/InstallReceiver(4440): ——————————————————–</p>
<h3 id="Uninstall"><a href="#Uninstall" class="headerlink" title="Uninstall"></a>Uninstall</h3><p>D/InstallReceiver(4440): received action:android.intent.action.PACKAGE_REMOVED<br>D/InstallReceiver(4440): package:com.youyuan.yyhl<br>D/InstallReceiver(4440): extras size:2<br>D/InstallReceiver(4440): key:android.intent.extra.DATA_REMOVED;value:true<br>D/InstallReceiver(4440): key:android.intent.extra.UID;value:10106<br>D/InstallReceiver(4440): ——————————————————–</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/proguard-ormlite.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/proguard-ormlite.html" itemprop="url">
                  proguard with ormlite on Android
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-08-14T23:27:16+08:00">
                2014-08-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/proguard-ormlite.html" class="leancloud_visitors" data-flag-title="proguard with ormlite on Android">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Android开发中ormlite混淆"><a href="#Android开发中ormlite混淆" class="headerlink" title="Android开发中ormlite混淆"></a>Android开发中ormlite混淆</h3><p>ormlite官网上没有找到proguard相关的配置说明，在<a href="http://stackoverflow.com/questions/9853096/proguard-with-ormlite-on-android" target="_blank" rel="external">stackoverflow</a>上找到了如下配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"># OrmLite uses reflection</div><div class="line">-keep class com.j256.**</div><div class="line">-keepclassmembers class com.j256.** &#123; *; &#125;</div><div class="line">-keep enum com.j256.**</div><div class="line">-keepclassmembers enum com.j256.** &#123; *; &#125;</div><div class="line">-keep interface com.j256.**</div><div class="line">-keepclassmembers interface com.j256.** &#123; *; &#125;</div><div class="line"></div><div class="line">-keepattributes *Annotation*</div></pre></td></tr></table></figure>
<p>能正式打包通过，但是在运行时会报一个异常：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">no fields have a databasefield annotation in class &amp;lt;com.package.myclass&amp;gt;</div></pre></td></tr></table></figure>
<p>原因是我的数据库表bo类中使用了ormlite的 @DatabaseField注解；这个异常能通过下面这一句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-keepclassmembers class com.package.bo.** &#123; *; &#125;</div></pre></td></tr></table></figure>
<p>来忽略混淆bo包下的所有类的类成员，但是有时候这不是一个最好的方法因为bo包下有可能还有一些非数据库使用的bo类或者其他类。</p>
<p>最后，我从Proguard手册中找到了下面这个方法，可以仅忽略混淆使用了DatabaseField注解的类成员。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">-keepclassmembers class * &#123;</div><div class="line">@com.j256.ormlite.field.DatabaseField *;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>自此ormlite相关的proguard就正常了，在此做个记录。</p>
<p>另外如果程序里使用到了泛型，或许可能需要下面这一句<br>-keepattributes Signature<br>不混淆泛型</p>
<p>最后附上Proguard手册地址，<a href="http://proguard.sourceforge.net/index.html" target="_blank" rel="external">传送门</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/use-ajax-comments.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/use-ajax-comments.html" itemprop="url">
                  增加ajax评论小记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-08-09T02:19:16+08:00">
                2014-08-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂记/" itemprop="url" rel="index">
                    <span itemprop="name">杂记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/use-ajax-comments.html" class="leancloud_visitors" data-flag-title="增加ajax评论小记">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ajax评论脚本修改"><a href="#ajax评论脚本修改" class="headerlink" title="ajax评论脚本修改"></a>ajax评论脚本修改</h3><p>这里使用的是非插件方式增加ajax评论，使用的是经过<a href="http://zww.me/wordpress3-5-willin-ajax-comment.z-turn" title="comment-ajax" target="_blank" rel="external"><span style="color: #343434;">zwwooooo</span></a>修改之后的 <span style="color: #343434;">Willin 版的comments-ajax。在该版本的基础上修复了一个bug，用户可以利用此bug任意修改别人的评论内容，具体修改方法请走 <a href="http://ihacklog.com/post/willin-kan-ajax-comments-bug-fix.html" title="ajax评论bug fix" target="_blank" rel="external">传送门</a>。修改完成之后的js和php下载，<a href="http://pan.baidu.com/s/1piIYU" target="_blank" rel="external">请点击</a>。</span></p>
<h3 id="子主题方式引入尝试"><a href="#子主题方式引入尝试" class="headerlink" title="子主题方式引入尝试"></a>子主题方式引入尝试</h3><p>以上完成了最主要的js和php修改，网上看大家的修改方式基本都是直接修改主题中的几个header.php,functions.php等文件，觉得这种方式不利于主题更新，因此想做成子主题（child theme）的方式把上面的文件引入到当前主题。子主题的制作没有问题，但是使用起来之后页面会不能正常加载，不知是否与缓存插件有关。于是还是改为使用直接修改主题的方式来实现，还好需要修改的地方不多，此处做个小记，方便以后换主题之后好修改。</p>
<h3 id="直接修改主题"><a href="#直接修改主题" class="headerlink" title="直接修改主题"></a>直接修改主题</h3><ol>
<li>把comments-ajax.js和comments-ajax.php放到主题更目录下</li>
<li>然后在functions.php文件中增加</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//comments-ajax by liang at 20140808</span></div><div class="line"><span class="keyword">if</span> (!is_admin()) &#123;</div><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">proliang_load_comment_ajax_scripts</span><span class="params">()</span> </span>&#123;</div><div class="line"> <span class="comment">#wp_enqueue_script('jquery');</span></div><div class="line"> <span class="keyword">if</span> (is_singular()) &#123;</div><div class="line"> wp_enqueue_script(<span class="string">'comments_ajax_js'</span>, (get_template_directory_uri().&amp;quot;/comments-ajax.js&amp;quot;), <span class="keyword">false</span>, <span class="string">'1.3'</span>, <span class="keyword">true</span>);</div><div class="line"> &#125;</div><div class="line"> &#125;</div><div class="line"> add_action(<span class="string">'wp_enqueue_scripts'</span>, <span class="string">'proliang_load_comment_ajax_scripts'</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//comments-ajax end</span></div></pre></td></tr></table></figure>
<ol>
<li>注释掉header.php中的 wp_enqueue_script( ‘comment-reply’ ); 代码</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//if ( is_singular() &amp;amp;&amp;amp; get_option( 'thread_comments' ) )</span></div><div class="line"> <span class="comment">//wp_enqueue_script( 'comment-reply' );</span></div></pre></td></tr></table></figure>
<ol>
<li>如果用了缓存插件或者js合并插件，则还需要增加规则忽略掉comments-ajax.js的缓存和合并操作，原因还赞不明确，只是如果不这么做，ajax评论会不起作用。</li>
<li>至此，修改完成，不出意外的话ajax评论功能已经OK。</li>
</ol>
<h3 id="2014-11-22更新，评论列表图片显示异常"><a href="#2014-11-22更新，评论列表图片显示异常" class="headerlink" title="2014-11-22更新，评论列表图片显示异常"></a>2014-11-22更新，评论列表图片显示异常</h3><p>当前主题评论列表中，评论成功的icon和用户头像的css混淆分不清楚，导致评论成功的icon显示异常，因此需要修改头像的css</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//头像大小和旋转的css</div><div class="line">//大约207，208行(此为本人使用的主题，此处做个记录，其他人的话要根据实际情况修改)</div><div class="line">.commentlist img&#123;width:40px;height:40px...</div><div class="line">.commentlist img:hover&#123;transform:rotate(720deg)...</div><div class="line">//改为</div><div class="line">.commentlist li div.vcard img.avatar&#123;width:40px;height:40px...</div><div class="line">.commentlist li div.vcard img.avatar:hover&#123;transform:rotate(720deg)...</div></pre></td></tr></table></figure>
<p>&nbsp;</p>
<h3 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h3><p>如果能用子主题的方式引入到当前主题中，那是最完美的，后续有时间再继续研究<br>相关参考资料：<br>评论脚本和bug修复的相关文章请看前面传送门<br>子主题简单教程请看使<a href="http://www.wpdaxue.com/wordpress-child-themes.html" title="子主题" target="_blank" rel="external">用WordPress的子主题功能修改你的WordPress主题</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/application-oncreate.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/application-oncreate.html" itemprop="url">
                  Application的onCreate多次调用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-07-29T19:36:55+08:00">
                2014-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/application-oncreate.html" class="leancloud_visitors" data-flag-title="Application的onCreate多次调用">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>通常一些全局的初始化操作会放在Application的onCreate方法中，但是当AndroidManifest.xml中的某个组件包含了<span style="color: #ff0000;">android:processs<span style="color: #000000;">属性时就需要注意了，此时该组件为独立进程运行，Application的onCreate方法也会调用多次。因此需要特别注意，有可能会有重复操作。</span></span></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/lookup-jar-source.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/lookup-jar-source.html" itemprop="url">
                  Eclipse中给Android项目的第三方Jar包关联源码
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-07-18T17:22:43+08:00">
                2014-07-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/编程技术/" itemprop="url" rel="index">
                    <span itemprop="name">编程技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/lookup-jar-source.html" class="leancloud_visitors" data-flag-title="Eclipse中给Android项目的第三方Jar包关联源码">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在Eclipse开发android项目时，添加的第三方jar包不能像Java项目那样添加source关联。<a href="http://static.proliang.com/2014/07/20140718165012.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/07/20140718165012.png" alt="20140718165012"></a><br><a href="http://static.proliang.com/2014/07/20140718165307.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/07/20140718165307.png" alt="20140718165307"></a></p>
<p>这里有一个方法可以关联第三方jar的源文件。</p>
<p><strong>1.第一步</strong>，首先得先有jar包对应的源码，可以是jar文件也可以是目录形式。</p>
<p><strong>2.第二步</strong>，然后在libs目录中新建一个文件，文件名格式为 “&lt;jar包的文件名&gt;.properties”<br>如图：<br><a href="http://static.proliang.com/2014/07/20140718170734.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/07/20140718170734.png" alt="20140718170734"></a></p>
<p><strong>3.第三步</strong>，修改文件内容为”src=&lt;源码地址&gt;”，如下图：<br><a href="http://static.proliang.com/2014/07/20140718165409.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/07/20140718165409.png" alt="20140718165409"></a><br>这里有点要注意的是分隔线要是双斜杠”\“，单斜杠“\”是不起作用的。<br>源码地址可以用相对路径也可以用绝对路径。</p>
<p><strong>4.最后</strong>，然后 close project,再open project,即可浏览源码<br><a href="http://static.proliang.com/2014/07/20140718165749.png" target="_blank" rel="external"><img src="http://static.proliang.com/2014/07/20140718165749.png" alt="20140718165749"></a></p>
<p>&nbsp;</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="Liang" />
          <p class="site-author-name" itemprop="name">Liang</p>
           
              <p class="site-description motion-element" itemprop="description">人一定要靠自己！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">49</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">62</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="http://proliang.com/feed" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  
    
    <script>
      var cloudTieConfig = {
        url: document.location.href, 
        sourceId: "",
        productKey: "0ae56d4315d44c68907a4e1d381b7ed9",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.ws.126.net/f2e/tie/yun/sdk/loader.js"></script>
  







  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("iV7QoJid7bitJfuE1e4Rmhih-gzGzoHsz", "rHionfAngav976m39LhnK54b");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


  

</body>
</html>
