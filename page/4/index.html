<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java, Android, 移动互联网, 移动开发, 技术分享" />





  <link rel="alternate" href="http://proliang.com/feed" title="PRO.LIANG" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="人一定要靠自己！">
<meta property="og:type" content="website">
<meta property="og:title" content="PRO.LIANG">
<meta property="og:url" content="http://proliang.com/page/4/index.html">
<meta property="og:site_name" content="PRO.LIANG">
<meta property="og:description" content="人一定要靠自己！">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PRO.LIANG">
<meta name="twitter:description" content="人一定要靠自己！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://proliang.com/page/4/"/>





  <title> PRO.LIANG </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?ad5e52857f2fcc80fc6d4c0621b757e3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">PRO.LIANG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">专注于移动互联网和Android开发</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/android-sui-shen-wifi.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/android-sui-shen-wifi.html" itemprop="url">
                  Android随身热点屏蔽用户连网
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-07-14T20:14:14+08:00">
                2014-07-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/android-sui-shen-wifi.html" class="leancloud_visitors" data-flag-title="Android随身热点屏蔽用户连网">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="实现："><a href="#实现：" class="headerlink" title="实现："></a>实现：</h2><p>1.通过反射WifiManager的WifiAp相关方法实现开关WifiAp(热点)，以及保存热点配置。</p>
<p>2.通过读取 /proc/net/arp文件来获取连接上此热点的客户端信息，包括ip,mac地址等</p>
<p>3.禁用特定客户端<br>使用iptables 可以限制指定mac的客户端通信，如：<br>iptables -A INPUT -p all -m mac –mac-source 24:1b:13:01:51:94 -j REJECT<br>iptables相关资料：<br><a href="http://ns.35.com/?p=211" target="_blank" rel="external">http://ns.35.com/?p=211</a><br><a href="http://blog.chinaunix.net/uid-203897-id-3066095.html" target="_blank" rel="external">http://blog.chinaunix.net/uid-203897-id-3066095.html</a><br><a href="http://os.chinaunix.net/a2006/0223/955/000000955632.shtml" target="_blank" rel="external">http://os.chinaunix.net/a2006/0223/955/000000955632.shtml</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/yong-wu-yao-yan.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/yong-wu-yao-yan.html" itemprop="url">
                  用武要言—陈长兴
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-07-13T12:08:11+08:00">
                2014-07-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/太极拳/" itemprop="url" rel="index">
                    <span itemprop="name">太极拳</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/yong-wu-yao-yan.html" class="leancloud_visitors" data-flag-title="用武要言—陈长兴">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="para"><strong>    要诀云：</strong> 捶自心出，拳随意发。总要知己知彼，随机应变。心气一发，四肢皆动，足起有地，动转有位，或粘而游，或连而随，或腾而闪，或折而空，或掤而捋，或挤而捺。拳打五尺以内，三尺以外，远不发肘，近不发手，无论前後左右，一步一捶，遇敌以得人为准，以不见形为妙。拳术如战术，击其无备，袭其不意，乘击而袭，乘袭而击，虚而实之，实而虚之，避实击虚，取本求末。出遇众围，如生龙活虎之状，逢击单敌，以巨炮直轰之势。上中下一气把定，身手足规矩绳束，手不向空起，亦不向空落，精敏神巧全在活。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    古人云：</strong>能去能就，能刚能柔，能进能退，不动如山岳，难知如阴阳，无穷如天地，充实如太仓，浩渺如四海，眩耀如三光，察来势之机会，揣敌人之短长，静以待动，动以处静，然後可言拳术也。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    要诀云：</strong>借法容易上法难，还是上法最为先。战斗篇云：击手勇猛，不当击梢，迎面取中堂；抢上抢下势如虎，类似鹰鹤下鸡场；翻江拨海不须忙，单凤朝阳最为强；云背日月天交地，武艺相争见短长。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    要诀云：</strong>发步进入须进身，身手齐到是为真，法中有诀从何取，介开其理妙如神。古有闪进打顾之法：何为闪？何为进？进即闪，闪即进，不必远求。何为打？何为顾，顾即打，打即顾，发手便是。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    古人云：</strong>心如火药，手如弹，灵机一动，鸟难逃。身似弓弦，手似箭，弦响鸟落显奇神。起手如闪电，电闪不及合眸。击敌如迅雷，雷发不及掩耳。左过右来，右过左来；手从心内发，落向前落。力从足上起，足起犹火作。上左须进右，上右须进左，发步时足根先著地，十趾要抓地，步要稳当，身要庄重，去时撒手，着人成拳。上下气要均停，出入以身为主宰；不贪，不歉，不即，不离。拳由心发，以身催手，一肢动百骸皆随；一屈，统身皆屈；一伸，统身皆伸；伸要伸得尽，屈要屈得紧。如卷炮卷得紧，崩得有力。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    战斗篇云</strong>：不拘提打、按打，击打、冲打，膊打、肘打，胯打、腿打，头打、手打，高打、低打，顺打、横打，进步打、退步打，截气打、借气打，以及上下百般打法，总要一气相贯。出身先占巧地，是为战斗要诀。骨节要对，不对则无力。手把要灵，不灵则生变。发手要快，不快则迟误。打手要狠，不狠则不济。脚手要活，不活则担险。存心要精，不精则受愚。</div><br><div class="para">发身：要鹰扬猛勇，泼皮胆大，机智连环，勿畏惧迟疑。如关临白马，赵临长板，神威凛凛，波开浪裂，静如山岳，动如雷发。</div><br><div class="para"><strong>   </strong></div><br><div class="para"><strong>    要诀云：</strong>人之来势，务要审察，足踢头前，拳打膊下，侧身进步，伏身起发。足来提膝，拳来肘拨；顺来横击，横来捧压；左来右接，右来左迎；远便上手，近便用肘；远便足踢，近便加膝。拳打上风，审顾地形，手要急，足要轻，察势如猫行；心要整，目要清，身手齐到始成功。手到身不到，击敌不得妙；手到身亦到，破敌如摧草。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    战斗篇云：</strong>善击者，先看步位，後下手势。上打咽喉，下打阴，左右两肋并中心。前打一丈不为远，近打只在一寸间。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    要诀云：</strong>操演时面前如有人，对敌时有人如无人。面前手来不见手，胸前肘来不见肘。手起足要落，足落手要起。心要占先，意要胜人，身要攻入，步要过人，头须仰起，胸须现起，腰须坚起，丹田须运起，自顶至足，一气相贯。</div><br><div class="para"><strong>    </strong></div><br><div class="para"><strong>    战斗篇云：</strong>胆战心寒者，必不能取胜；不能察形势者，必不能防人。先动为师，后动为弟。能教一思进，莫教一思退。胆欲大而心欲小，运用之妙，存乎一心而已。一理运乎二气，行乎三节，现乎四梢，统乎五行。时时操演，朝朝运化，始而勉强，久而自然。拳术之道学，终於此而已矣！</div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/liang-ge-hao-ren.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/liang-ge-hao-ren.html" itemprop="url">
                  两个好人，为什么却没有好婚姻？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-06-24T18:21:15+08:00">
                2014-06-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/浮生若梦/" itemprop="url" rel="index">
                    <span itemprop="name">浮生若梦</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/liang-ge-hao-ren.html" class="leancloud_visitors" data-flag-title="两个好人，为什么却没有好婚姻？">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><span style="color: #4d4d4d;">文/张德芬</span></p>
<p><span style="color: #4d4d4d;">我的母亲是个很好的人，自小就看到她努力地维持一个家。 </span></p>
<p><span style="color: #4d4d4d;">她总是在清晨五时起床，煮一锅热腾腾的稀饭给父亲吃，因为父亲胃不好，早餐只能吃稀饭。还要煮一锅干饭给孩子吃，因为孩子正在发育，需要吃干饭，上学一天才不会饿。 </span></p>
<p><span style="color: #4d4d4d;">每星期，母亲会把榻榻米搬出去晒，晒出暖暖的太阳香，下午，母亲总是弯着腰，刷着锅子，我们家的锅子每一个都可以当镜子用，完全没有一点污垢。晚上，她努力蹲在地上擦地板，一寸一寸仔细地擦拭，家里的地板比别人家的床头还干净，打着赤脚也找不到一丝灰尘，我母亲是个认真辛劳的好女人。 </span></p>
<p><span style="color: #4d4d4d;">然而父亲的眼中，她却不是一个好伴侣，我成长过程中，父亲不只一次地表示他在婚姻中的孤单，不被了解。我的父亲是个负责的男人，他不抽烟、不喝酒，工作认真，每天准时上下班，暑假还安排功课表，安排孩子们的作息，他是个尽责的父亲，督促孩子功课。他喜欢下棋、写书法，沉浸在古书的世界，我的父亲是个好男人，在孩子们眼中，他就像天一样大，保护我们、教育我们。 </span></p>
<p><span style="color: #4d4d4d;">只是在母亲的眼中，他也不是一个好伴侣，我成长的过程中，我经常看到母亲在院子的角落中，暗暗无声地掉泪。父亲用语言，母亲用行动，表达了他们在婚姻中所面对的痛苦，成长的过程中，我看到也听到父亲与母亲在婚姻中的无奈，也看到、感受到他们是如此好的男人与女人，他们值得一椿好婚姻。 </span></p>
<p><span style="color: #4d4d4d;">可惜的是，父亲在世的岁月中，他们彼此的婚姻生活都在挫折中度过，而我也一直在困惑中成长，我问自己：“两个好人为什么没有好的婚姻呢？”我长大后，进入婚姻，渐渐了解这个问题的答案。 </span></p>
<p><span style="color: #4d4d4d;">在婚姻初期，我就像母亲一样，努力持家，努力地刷锅子、缜板，认真地为自己的婚姻而努力。奇怪的是，我不快乐，看看我的先生，似乎也不快乐，我心中想，大概是地板不够干净，饭菜烧得不够好，于是我更努力擦地板，用心做饭，我们两个人还是不快乐。 </span></p>
<p><span style="color: #4d4d4d;">直到有一天，我正忙着擦地板时，先生说：”老婆，来陪我听一下音乐。“我不悦地说：”没看到还有一大半的地方没有擦。“这句话一说出口，我呆住了，好熟悉的一句话，在我父亲母亲的婚姻中，母亲也经常这样对父亲说，我正在重演父母亲的婚姻，也重复他们在婚姻中的不快乐，有一些领悟出现在我的心中。 </span></p>
<p><span style="color: #4d4d4d;">“你要的是甚么呢？”我停下手边的工作，问着先生，想到我父亲，他一直在婚姻中得不到他要的陪伴，母亲刷锅子的时间都比陪他的时间长。不断地做家事，是母亲维持婚姻的方法，她给父亲一个干净的家，却从未陪伴他，她忙着做家事，她用她的方法在爱父亲，这个方法是做家事。而我，我也用我的方法在爱着我的先生，我的方法也是母亲的方法，我的婚姻好像也在走向同一个故事「两个好人却没有好婚姻。」我的领悟使我做了不一样的选择。停下手边的工作，坐到先生的身边，陪他听音乐，远远地看着地上擦地板的抹布，像是看着母亲的命运。 </span></p>
<p><span style="color: #4d4d4d;">我问先生：“你需要什么呢？” </span></p>
<p><span style="color: #4d4d4d;">“我需要你陪我听听音乐，家里脏一点没关系呀！以后帮你请个佣人，你就可以陪我了。”先生说。 </span></p>
<p><span style="color: #4d4d4d;">“我以为你需要家里干净，有人煮饭给你吃，有人为你洗衣服…等。”我一口气说了一串应该是他需要的事。 </span></p>
<p><span style="color: #4d4d4d;">“那些都是次要的呀！”先生说，“我最希望你陪陪我。” </span></p>
<p><span style="color: #4d4d4d;">原来我作了许多白工，这个结果实在令我大吃一惊，我们继续分享彼此的需要，才发现他也做了不少白工，我们都用自己的方式在爱对方，而不是对方的方式。 </span></p>
<p><span style="color: #4d4d4d;">自此以后，我列了一张先生的需要表，把它放在书桌前，他也列了一张我的需求表，放在他的书桌前。洋洋洒洒十几项的需求，像是有空陪对方听音乐、有机会抱抱对方、每天早上kiss拜拜。有些项目比较容易做到，有些项目比较难，像是「听我说话，不要给建议。」这是先生的需要。如果我给他建议，他说他会觉得自己像笨蛋，我想这真是男人的面子问题。我也学着不给建议，除非他问我，否则我就只是倾听，顺服到底，连走错路时也一样。 </span></p>
<p><span style="color: #4d4d4d;">这对我实在是一条不容易学习的路，不过比擦地板要轻松多了，而我们在需求的满足中，婚姻也愈来愈有活力。在我累的时候，我就选择一些容易的项目做，像是「放一首放松音乐」，自己有力气的时候就规划「一次外地旅游」这样的事情。有趣的是，「到植物园散步」是我们的共同项目、共同需求，每次婚姻有争吵，去到植物园，总能安慰彼此的心灵。其实这也可想而知，原本我们就是因为对植物园的喜爱而相知相惜，一起走入婚姻，回到园子就会回到多年前彼此相爱的心情。问对方：”你要什么呢？“这句话开启了婚姻另一个幸福之路，两个好人终于走上幸福之路。 </span></p>
<p><span style="color: #4d4d4d;">现在，我也知道父母亲的婚姻为何无法幸福，他们都太执着用「自己」的方法爱对方，而不是用「对方」的方式爱另一半。自己累得半死，对方还感受不到，最后面对婚姻的期待，也就灰心而死了。既然上帝创造婚姻，我想每个人都值得拥有一个好婚姻，只要方法用对，作「对方要的」而非自己「想给的」，好婚姻，绝对是可预期的。</span></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/yi-dui-lao-lian-ren.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/yi-dui-lao-lian-ren.html" itemprop="url">
                  一对老恋人
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-06-08T23:22:08+08:00">
                2014-06-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/浮生若梦/" itemprop="url" rel="index">
                    <span itemprop="name">浮生若梦</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/yi-dui-lao-lian-ren.html" class="leancloud_visitors" data-flag-title="一对老恋人">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><span style="color: #4d4d4d;">文/嬛嬛小主儿 </span></p>
<p><span style="color: #4d4d4d;">已经垂暮的他们，开始学着关心起对方，尽管这种关心是以唠叨和责备的形式来体现的。但那一刻，我才明白，他们是彼此相爱的。从他们的身上，我知道了一种叫做“相濡以沫”的东西。</span></p>
<p><span style="color: #4d4d4d;">早就想写篇文章，纪念他们之间的爱情。在他们五十四年的婚姻生活中，有着太多的争吵、冷战，我甚至曾经怀疑他们之间有过“爱情”吗？抑或是像当时许多包办的夫妻那样，在“父母之命媒妁之言”下，平淡麻木的过了一生。他们之间关系的缓和，应该是在最后的五六年吧。已经垂暮的他们，开始学着关心起对方，尽管这种关心是以唠叨和责备的形式来体现的。但那一刻，我才明白，他们是彼此相爱的。从他们的身上，我知道了一种叫做“相濡以沫”的东西。 </span></p>
<p><span style="color: #4d4d4d;">现在我就以一个旁观者的角度，用白描的手法，给你们讲述一个真实的爱情故事。 </span></p>
<p><span style="color: #4d4d4d;">她嫁给他那年，她十七，他比她大五岁，也不过是个二十二岁的后生。她家是地主，生活富足，她又是家里最小的孩子，她母亲在四十五岁生的她，晚年得女，所以对她非常宠爱。也就是这种生活背景，养成了她自小任性、暴躁的性格。而他家是书香门第，他父亲开着一间私塾。本来家境不错，不过在他十六岁那年，他父亲就去世了。家道开始中落。作为家中的长子，他必须挑起家中的重担。于是中途退学，在她家开的粮铺里做起了伙计。由于踏实肯干，为人忠厚，又上过县里的洋学堂识文断字，渐渐地获得擢升，成了账房先生。 </span></p>
<p><span style="color: #4d4d4d;">一个是家里的五小姐，一个是粮铺的账房先生。身份的悬殊，或许不会让他们的人生有什么交集。但是命运的安排始终不可逆转。她的父亲非常喜欢他。觉得他相貌堂堂，又为人忠厚，又上过县里的中学，有点见识。就打算把女儿嫁给他。她是家里最小的女儿。她家尽管是个地主，家产丰厚。但她父母却没有生过男孩儿。万千家财，由谁继承？在这种想法的支配下，她父亲萌生把他招赘为婿的想法。然后派媒人去他家提亲。他家自父亲死后，家道已是中落。现在有当地的大户提亲，他的寡母如何不允？于是两家商定黄道吉日，把他们的婚事就定下来了。只是出于男人的自尊，他同意做上门女婿，但不同意将来生的孩子随妻子的姓。双方曾为此发生过很大的争执。但最后还是因为他的坚持，让岳父做出了妥协，同意了他的决定。 </span></p>
<p><span style="color: #4d4d4d;">就这样，二十二岁的他娶了十七岁的她。婚后他依旧任劳任怨的在粮铺当差，勤勤恳恳不敢出半点差错。他真把粮铺看成了自己的私有财产，苦心的经营着。岳父对他也格外满意。 </span></p>
<p><span style="color: #4d4d4d;">只是渐渐的，两人之间的分歧越来越明显。他忠厚老实、木讷内向，她泼辣豪爽、任性暴躁。她是家中的幼女，自小最受父母宠爱，什么时候肯甘拜下风？所以每每二人发生争执时，总是她压过他。而他也只能抽几口闷烟，自己劝自己想开些。 </span></p>
<p><span style="color: #4d4d4d;">后来她爹去世，他掌管了家业。把家里弄得井然有条。再后来解放后，她家的土地都充了公，粮铺也转了手。他带着卖粮铺的钱带她去了城里，后来重新安了家，过起另一种日子。 </span></p>
<p><span style="color: #4d4d4d;">这种转变，他适应的很快。可她不行，曾经舒适富足的生活，变成眼下这种光景。曾经的五小姐变成了工厂的女工。她那时已经有了两个孩子。日子开始过得有些紧。为了不坐吃山空，她在工厂当起了女工。这种落差，刺激的她脾气越发暴躁了。有一年冬天，他凭着肉票买了两斤肉。他在小锅上炖着肉，两个儿子闻着肉香垂涎欲滴。就等着肉好了吃上一口。肉好了，她回了家一看炖好的肉，就皱了眉头：“肉咋这么肥？怎么吃啊？”“肥吃着才香啊。”他笑着说。“放屁！卖肉的就会糊弄你！这么肥的肉卖不出去，才给你！”她牙尖嘴利地说。他有点不爱听了，反驳道：“你嫌肥你别吃啊。孩子们还想吃呢！”就是这句话，惹怒了她。她抄起盆子，把肉倒在门口的地上，“我让你们吃！买个肉都不会买，就知道吃！”孩子们看了心疼得大哭，他也伤了心。看着地上的肉，使劲搓着手。他想冲她嚷几句，但终究没有发作。他拿起盆用筷子把肉捡进盆里，然后用开水冲洗干净。默默地把肉倒在孩子们碗里。两个儿子大口的吃起来。她竟有些委屈，哭出了声。窘迫的生活让她的脾气愈发暴躁，她不知道自己为何要发这股无名火，但她也开始为自己刚才的莽撞后悔。他走过去搂住她的肩，柔声说：“日子会好起来的！气大伤身，以后别发这么大的火了。”她环住他的腰，重重地点了点头。 </span></p>
<p><span style="color: #4d4d4d;">多年以后，他的儿子回忆起这件事来，还会说：“我妈的脾气真暴啊！也就是我爹受得了她。” </span></p>
<p><span style="color: #4d4d4d;">后来她又给他生了两个女儿。一家六口的生活依旧拮据。但是在往后的岁月中，她没有再为窘迫的生活发过牢骚，或者迁怒过别人。她的脾气依旧不好，但是她也只是在嘴上跟他吵吵。再也不会拿东西出气了。 </span></p>
<p><span style="color: #4d4d4d;">日子一天天如流水般过着。他们儿女的境遇并不好：两个儿子下岗，生活贫困。大女儿又年轻守寡。小女儿家里条件虽好，却当不得家。 </span></p>
<p><span style="color: #4d4d4d;">为了不给儿女添负担，他六十五的时候还在给人看大门，守在门房狭小寒冷的屋子里，两个人竟开始学会心疼起对方来。每次儿女给他们带来好吃的，她总会说：“下次给你爹买清真寺的鸡，那儿的鸡嫩，你爹爱吃。” </span></p>
<p><span style="color: #4d4d4d;">她一直血压高。可是从年轻的时候，她就抽烟。医生劝过她很多次，让她戒烟。可她总戒不掉。他发狠了：“这个老倔婆子。你咋恁拧呢？从今天起，我也不抽烟了，跟你一块戒。”也就是从那天开始，他也戒了烟。他把烟都扔进垃圾箱。不再买一盒。她烟瘾犯的时候，他就给她买糖吃，是那种清凉的薄荷糖。她吃着凉嗖嗖的，在他的监督下，他们真的都戒了烟。 </span></p>
<p><span style="color: #4d4d4d;">在她六十八岁那年，她中了风。好了以后，就得了老年痴呆症。为了防止她自己瞎跑出去，迷了路，他一遍遍的教她：“你叫什么？”她迷茫的摇头。“你叫香玉。你家住在南河坡xxx。你老头子叫XXX。”他一遍遍不厌其烦地说。直到她能含混不清的复述为止。 </span></p>
<p><span style="color: #4d4d4d;">为了她的病能有所好转。他带她去输液扎针。每次扎针时，她都像一个孩子一样，痛得大叫。非得死攥着他的手，她才会傻笑起来。他也笑骂她：“你这老婆子，现在也该你挨针扎了。欺负了我一辈子，让大夫治治你。”说完却温柔的抚弄她的乱发。眼中却有了薄薄的雾。 </span></p>
<p><span style="color: #4d4d4d;">有时她发病，拉了一裤子屎。他有时帮她脱下裤子，气的在她屁股上拧一把。她只会傻笑，最后他也只能无奈的对着她笑。然后继续给她洗屎裤子。 </span></p>
<p><span style="color: #4d4d4d;">她虽得了老年痴呆症，身体还不错。而他则因为常年的劳累，身体大不如前。每当他累得靠在床帮上时，她都像个孩子似的惊恐无措，然后慌乱的给他倒水，亲他满是皱纹的额头。这时的他心中应该是幸福甜蜜的吧。她嚣张跋扈了一辈子，老了老了得了老年痴呆症，倒会心疼起这个她欺负了一生的男人了。 </span></p>
<p><span style="color: #4d4d4d;">他终究比她大五岁，身体的底子不如她好。他的脚步越发沉重、蹒跚，好多时候都是迈不开腿，拖拉着步子往前走。而她在他的精心照顾下，身体却很康健，走起路来步履生风，两只眼睛也炯炯有神。她除了有老年痴呆症说话含混不清外，别处都很好。于是他开始担心她，怕他走后她一人孤单。 </span></p>
<p><span style="color: #4d4d4d;">有一天，他把儿女们召集在一处，郑重地说：“我知道你们家庭条件都不好。我这身体也不如你妈。要是有一天，我走在你妈前头。你们就把你妈送养老院吧。有专人看护她，我也放心了。这是我攒的五万块钱，就留作给你妈的养老钱。”他从六十五岁给人看大门，一直看到七十二岁。实在干不动为止。他舍不得花一分钱，却为这个霸道了一辈子，欺负了他一辈子的女人留下了所有的积蓄！他的儿女开始啜泣。大女儿说：“爹，你别想那些事儿。你才多大岁数？人家八九十的，还好好活着呢！你才七十多，说这话还早呢！”他严肃地说：“先做打算，省的抓瞎。我先把话交代清楚了，你们也好早做准备！”儿女们都很伤感，她则茫然地看着老头子和孩子们，不知他们在说啥。 </span></p>
<p><span style="color: #4d4d4d;">这话说了没多久，就应验了。那是在冬天，他们还烧煤取暖。到二月份的时候，北方的天气还是干冷干冷的。那几天，天气特别阴冷潮湿。十六号的时候，大女儿去看他们。还给他们做的饭，又帮她洗了头发，擦了身子。十七号的时候，再给他们打电话，就打不通了。大女儿去他家敲了半天门，也没人应声。大女儿慌了神，叫来妹妹和哥哥。等踹开了门，才发现他们早已经不行了。炉子里的煤没有压实，早就灭了。他俩一个倒在了地上，一个斜躺在床上。大女儿赶紧给他掐人中，二女儿给她捶后背。儿子们手忙脚乱的拨120叫救护车。他鼻子里流出了血，却没反应。她也没反应。儿女们大声呼唤他们，可他们都没反应。救护车来了，大夫们给他们实施急救。可是回天乏术，他们都没能活过来。后来大夫说：“照情形，应该是他先发的病，脑溢血躺在了地上。而她又说不出话，不知怎么办，结果急死了。”儿女们悲痛欲绝，怎么也无法接受这个事实：他们双双离世的事实。他们呼天抢地，肝肠寸断。可是却再也唤不醒他们。 </span></p>
<p><span style="color: #4d4d4d;">他们出殡的那天，天空下起鹅毛大雪。一扫往日的阴霾。雪下得越来越大，天空不再阴沉昏暗，开始变得晴朗。于是那些客人说：“老天爷都被老太太、老爷子感动了，老天爷都在为他们穿孝呢！”客人们也劝着儿女们：“想开点吧。老爷子是不放心老太太，他要先走了，老太太一个人也活不好。现在俩人又上天上作伴去了。”儿女们哭得泣不成声，只能以这种说法安慰着自己。 </span></p>
<p><span style="color: #4d4d4d;">儿女们为他们选了一个龙凤合璧骨灰盒，骨灰盒的两边分放着两人的骨灰。他们携手五十四年，度过了金婚，离钻石婚还差六年。现在他们又永久的在一起了。 </span></p>
<p><span style="color: #4d4d4d;">他们是一对老恋人。或许他们的爱情很琐碎，很平淡，甚至从他们的一生中看不出多少爱情的影子。但是他们用自己的行为诠释了那句话：“少年夫妻老来伴。”我曾经以为”执子之手，与子偕老”是一句多么美好的誓言，但是从他们的相互扶持中，我才明白这句话更是代表一生的承诺与责任。他们的爱情很平凡，很朴素。但会给人一种真挚的感动，一种对于“相濡以沫”这种名词真正的理解。 </span></p>
<p><span style="color: #4d4d4d;">外公外婆在你们不在的日子里，我一直没有写一篇文章纪念你们。因为我一直不愿面对你们早已离去的事实，但是今天我要勇敢的记录下你们的爱情。愿你们在天堂永安，恩爱和睦，再无争吵！</span></p>
<p>转自：<a href="http://aladd.me/6817.htm" target="_blank" rel="external">http://aladd.me/6817.htm</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/fendou.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/fendou.html" itemprop="url">
                  我的奋斗，是为了和你坐在一起喝咖啡？
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-04-23T20:00:46+08:00">
                2014-04-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/浮生若梦/" itemprop="url" rel="index">
                    <span itemprop="name">浮生若梦</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/fendou.html" class="leancloud_visitors" data-flag-title="我的奋斗，是为了和你坐在一起喝咖啡？">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>我的奋斗，是为了和你坐在一起喝咖啡？</strong></p>
<p>牵扯两篇关于奋斗喝咖啡的老文，但作者更提出另一个观点：为了让自己拥有喝这样一杯咖啡的能力，又始终保有不去喝这样一杯咖啡的自觉。</p>
<p>星期天和老公去市里，一是中午和同事一起吃饭，二是去买两件换季的通勤衣服。因为听同事说用某行的信用卡，去那个咖啡店可以打半价，两个人也就二三十块钱而已，所以，还<span id="more-2911"></span>准备第一次去咖啡馆小资一下，边喝咖啡边看会书。</p>
<p>起先，一切按计划进行，逛街累了就开始找那个半价的咖啡店，烈日下走了十多分钟终于找到了。为了确保同事的消息准确可靠，一进去我就问收银的服务生：“用**银行的信用卡是不是能打半价啊？”服务生抬头瞟了我一眼，说了一句：“那个活动结束了。”然后等着我们点餐，我看看老公，说“那走吧”,就拉着他出去了。</p>
<p>出去后，老公找了个阴凉的地方，开始用手机查团购和优惠券，查了半天找到一个还算近的另一个咖啡店有团购，也不算贵，于是大手牵小手又开始找，所幸那个咖啡店是离得挺近，不一会儿就找到了。</p>
<p>于是两人横冲直撞进去坐定，服务生拿过来两份菜单，问我们喝点什么。我随口一问：“团购券可以用吧？”没想到，悲剧再一次发生了，人家说：“哦，团购的仅限星期五使用的。”我再一次看看坐在对面的老公，“算了吧，就在这儿吧。”</p>
<p>我承认那个时候我心里是纠结了一下下，毕竟人家服务生都把菜单拿来了，还拿着笔直挺挺地站在那等我们点，但一下下的纠结之后，我起身对他说了句“不好意思啊”,又拉着老公走了。</p>
<p>出了第二个咖啡馆，我忍不住怪了老公两句，怎么也不看好什么时间能用啊。老公也有些内疚，一个是因为没弄清楚团购的限制，一个是觉得我不过想喝杯咖啡，进了两家都没喝成，让我受委屈了。于是，笑嘻嘻地说：“老婆，既然没有优惠，咱们还不如就去星巴克吧。不就七八十块钱嘛，老公请你。”</p>
<p>说实话，他说的有道理，没有优惠的话咖啡馆价格差不多，还不如去星巴克凑个热闹，满足一下俗不可耐的虚荣心。而且我们现在的收入，其实七八十块钱喝杯咖啡也很正常。我再一次动心了。</p>
<p>可是！花七八十块钱喝杯咖啡，我还是觉得很贵！很不值！很心疼！于是决定不喝了，不就是个咖啡吗？本小姐单位有八千多块钱的咖啡机现磨星巴克咖啡豆的咖啡，偏偏要去咖啡馆喝什么喝，想喝了，就趁领导不在时偷着喝呗。老公不同意，说这么点要求还不能满足老婆吗？</p>
<p>突然，我灵机一动，星巴克有没有优惠啊？老公马上打开手机搜起来。神奇的是，居然真的有！用某银行的信用卡可以买一送一！！于是我们再一次兴冲冲地出发了！结果到了星巴克，又被告知，人家是旗舰店，不参加这个活动！</p>
<p>我彻底绝望了，折腾了四十多分钟，不仅没喝上，还风吹日晒，又累又热又渴。结果是，我们冲进对面的KFC,每人买了一份9元午后套餐。抢到座位后，感觉真是幸福，“老公，你看，我们18块钱就买了这么多好吃的，两个饮料，两对鸡翅，这要是在咖啡店，一杯咖啡都买不了。”老公也特别二地装小男童地说：“是呀，老婆最聪明！老婆最贤惠！耶！”</p>
<p>曾经有一篇很火的帖子，叫《我奋斗了十八年，才能和你坐在一起喝咖啡》，记得第一次在网吧看到那篇文章时，我对着屏幕泪流满面。那时我大二，寝室只有我一个人没有电脑，写作业就去学校机房，想上网玩点别的就去校外的网吧。</p>
<p>后来，又有一个人写了一篇回应，叫《我奋斗了十八年，不是为了和你一起喝咖啡》，也看得我泪流满面。那时，我大三，我有了自己的笔记本电脑，但每天中午还是在食堂只吃一个素菜。</p>
<p>折腾了半天也没喝成咖啡这件事，让我想起了那两篇文章。我承认，赶时髦地非要去咖啡馆喝咖啡装小资是很可笑的事情，也承认可能我的求学、工作，一路上的经历还算不上什么奋斗，那么，这些经历，到底是不是为了和谁一起喝咖啡呢？</p>
<p>我没有那么清高，我无法说我所做的一切都是追求自己内心的平衡，而不是为了和谁比，无法说我从来没有羡慕过谁。但我也清楚的知道，那一切经历真的并不只是为了和谁一起喝咖啡。</p>
<p>两篇文章中，让我流泪的部分，都是作者叙述自己刚上大学时什么都懂，和其他同学有差距的部分。因为那时我也一样。所以大一和大二那两年，我的作息基本和高三是一样的，早上不到六点起，没有课的时候就去自习，晚上十一点回寝室。</p>
<p>那时家里经济条件也很不好，所以我去尝试过卖手机，贴海报，后来去做家教，为了做一个小时的家教，花来回三个多小时的路程。那个在国贸的黑夜里，在冷冷的寒风中，望着灯火通明的高楼大厦，我懦弱的眼泪流在了心里。</p>
<p>后来拿到了奖学金，保研，出国，我清楚地知道这些都是很多孤独的日夜所换来的，想要得到这些，靠的都是自己，也只能靠自己。</p>
<p>老公也是一样。只不过，也许终究是男人，他比我更能够坦然接受，不觉得自己的奋斗是苦，是值得炫耀或者博取同情的事情，更不会抱怨，不会否定，不会自卑。大学四年，他吃了四年的馒头，用他的话说，这些都是他自己的选择。</p>
<p>近两年，我们的经济条件变好了，如果因此我不再那么节俭了的话，老公则依然保持他质朴的本色。但他节俭却不吝啬，对除自己以外的人都很大方。就像今天的咖啡，我想喝，是虚荣心在作祟，而他，则完全是为了满足我，让我高兴而已。</p>
<p>而维持我们在一起的，可能就是这种，不论我们挣多少钱，都还是觉得七八十块喝杯咖啡真的很贵，也不会花几千块买个包包的观念，不是因为没钱，是因为没习惯，因为我决定喝之前，总是会想到在我家乡，不舍得花一块钱坐公交车的老爸老妈。</p>
<p>至此，我好像还是没有弄明白，我所付出过的努力，到底是不是为了和谁坐在一起喝咖啡。我想，也许我是为了让自己拥有喝这样一杯咖啡的能力，又始终保有不去喝这样一杯咖啡的自觉。</p>
<p>转自：<a href="http://aladd.me/2911.htm" target="_blank" rel="external">http://aladd.me/2911.htm</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/shou-qi-xia-la-tong-zhi-lan.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/shou-qi-xia-la-tong-zhi-lan.html" itemprop="url">
                  Android展开/收起下拉通知栏
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-04-23T17:06:04+08:00">
                2014-04-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/shou-qi-xia-la-tong-zhi-lan.html" class="leancloud_visitors" data-flag-title="Android展开/收起下拉通知栏">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>android的通知栏中可以放自定义通知，有通知时下拉通知栏然后点击了某个自定义的通知中的某个按钮时，系统默认不会收起通知栏。</p>
<p>这里找到一个方法可以使用。原理就是反射调用 android.app.StatusBarManager 这个类中的方法，这个类和方法是被隐藏的@hide。</p>
<p>Context源码中可以看到</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">* Use with &#123;<span class="doctag">@link</span> #getSystemService&#125; to retrieve a &#123;<span class="doctag">@link</span></div><div class="line">* android.app.StatusBarManager&#125; for interacting with the status bar.</div><div class="line">*</div><div class="line">* <span class="doctag">@see</span> #getSystemService</div><div class="line">* <span class="doctag">@see</span> android.app.StatusBarManager</div><div class="line">* <span class="doctag">@hide</span></div><div class="line">*/</div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String STATUS_BAR_SERVICE = &amp;quot;statusbar&amp;quot;;</div></pre></td></tr></table></figure>
<p>下面时具体实现方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">collapseStatusBar</span><span class="params">(Context context)</span> </span>&#123;</div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">Object statusBarManager = context.getSystemService(&amp;quot;statusbar&amp;quot;);</div><div class="line">Method collapse;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (Build.VERSION.SDK_INT &amp;lt;= <span class="number">16</span>) &#123;</div><div class="line">collapse = statusBarManager.getClass().getMethod(&amp;quot;collapse&amp;quot;);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">collapse = statusBarManager.getClass().getMethod(&amp;quot;collapsePanels&amp;quot;);</div><div class="line">&#125;</div><div class="line">collapse.invoke(statusBarManager);</div><div class="line">&#125; <span class="keyword">catch</span> (Exception localException) &#123;</div><div class="line">localException.printStackTrace();</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个是收起的方法，注意android不同的版本调用的方法不一样。<br>同时这段代码需要一个权限：<br>&lt;uses-permission android:name=”android.permission.EXPAND_STATUS_BAR”/&gt;</p>
<p>同理，如果要代码中调用展开通知栏也可以用类似的方法只不过调用的方法换一下，<br>sdk16以上的有2个<br>expandNotificationsPanel<br>expandSettingsPanel<br>sdk16及以下的有1个方法<br>expand</p>
<p>参考文章：<a href="http://www.androideng.com/?p=1069" target="_blank" rel="external">http://www.androideng.com/?p=1069</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/wei-chi-xin-li-ping-heng-de-4-dian-mi-jue.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/wei-chi-xin-li-ping-heng-de-4-dian-mi-jue.html" itemprop="url">
                  维持心理平衡的4点秘诀
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-04-07T20:22:39+08:00">
                2014-04-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/浮生若梦/" itemprop="url" rel="index">
                    <span itemprop="name">浮生若梦</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/wei-chi-xin-li-ping-heng-de-4-dian-mi-jue.html" class="leancloud_visitors" data-flag-title="维持心理平衡的4点秘诀">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>有两个重病病患同住在一家大医院的小病房里。房子很小，只有一扇窗子可以看见外面的世界。其中一个病患的床靠著窗，他每天下午可以在床上坐一个小时。另外一个人则终日都得躺在床上。靠窗的病患每次坐起来的时候，都会描绘窗外的景致给另一个人听。从窗口可以看到公园的湖，湖内有鸭子和天鹅，孩子们在那儿撒面包片，放模型船，年轻的恋人在树下携手散步，在鲜花盛开，绿草如茵的地方人们玩球嬉戏，后头一排树顶上则是美丽的天空。</p>
<p>另一个人倾听著，享受著每一分钟。他听见一个孩子差点跌到湖里，一个美丽的女孩穿著漂亮的夏装……朋友的诉说几乎使他感觉到自己亲眼目睹了外面发生的一切。在一个天气晴朗的午后，他心想：为什么睡在窗边的人可以有独享外头的权利呢？为什么我没有这样的机会？他觉得不是滋味，他越是这么想，就越想换位子。他一定得换才行！</p>
<p>这天夜里，他盯著天花板想著自己的心事，另一个忽然惊醒了，拼命地咳嗽，一直想用手按铃叫护士进来。但这个人只是旁观而没有帮忙─他感到同伴的呼吸渐渐停止了。第二天早上，护士来时那人已经死了，他被静静地抬走了。</p>
<p>过了一段时间，这人开口问，他是否能换到靠窗户的那张床上。他们搬动他，将他换到了那张床上，他感觉很满意。人们走后，他用手肘撑起自己，吃力地往窗外望……窗外只有一堵空白的墙。如果另一个人不起恶念，在晚上按铃帮助另一个人，他还可以听到美妙的窗外故事。可是现在一切都晚了，他看到的是什么呢？不仅是自己心灵的丑恶，还有窗外一堵白墙。几天之后，他在自责和忧郁中死去。生活有许多不如意，大多缘自于比较。一味地、盲目地和别人比，造成了心理不平衡，而不平衡的心理使人处于一种极度不安的焦躁、矛盾、激愤之中，使人牢骚满腹，甚至不思进取。表现在工作上就是得过且过，更有甚者会挺而走险，玩火自焚。因此，我们要努力保持心理平衡。那么，该如何做呢？</p>
<p><span style="color: #008000;"><strong>寻找自信</strong></span></p>
<p>自信是心理平衡的基础。假如感到某方面不如别人，应相信自己是有才的，只不过是低估了自己的长处而已。当然，自信的前提是自己确有发光点。所以，平时应当练好基本功。</p>
<p><span style="color: #008000;"><strong>自我发洩</strong></span></p>
<p>你有权发火，怒而不宣会摧毁身体的正常机能，导致体内毒素滋生，使人变得抑郁、消沈。适当的发洩可以排除内心怒气，重新鼓起生活的勇气。发洩的方法很多，可是向朋友、家人倾诉，也可是以独处时的怒吼，也可以对著某物打上几下，出出怒气。以前听说过某人在自己办公室里放上一盆沙子，愤怒时便用力去搓沙子，这样既不害人也不伤己，不失为发洩的一个好方法。</p>
<p><span style="color: #008000;"><strong>寻找港湾</strong></span></p>
<p>生活中需要一个能让自己「充电」、休养的港湾。无聊时去「充电」，烦恼时去放松，就像一艘远航归来的帆船一样，在这宁静的港口及时得到休息。这个港湾可以是一间充满花香的「闺房」，可以是一个深造提升的培养训练班，也可以是一次独来独往的旅行。心底无私。命运的主宰是自己，树立自己的世界观、人生观、经常思考、检查自己的所作所为，自重、自省、自警、自励。心底无私天地宽，只要做好自己就是最大的胜利，就能获得最大的安慰。</p>
<p><span style="color: #008000;"><strong>享受生活</strong></span></p>
<p>生活是美好的，虽然有时候会和人开个玩笑，让人跌上一跤，但说不定让你跌倒的时候，会放一个金元宝在地上等著你去捡。学会体会生活的美丽，学会享受自然的恩赐，学会欣赏别人，也学会自我欣赏。返回自然。大自然如同母亲的胸怀一样博大，如同上帝的施舍一样慷慨。烦闷时不妨到外面走走，回归自然。望著蔚蓝色的天空，朵朵的白云，潺潺的流水，听著那婉转的鸟鸣，心灵会慢慢趋于平静，快乐不经意间湧上心头。</p>
<p>转自：<a href="http://www.xinli001.com/info/13060/" target="_blank" rel="external">http://www.xinli001.com/info/13060/</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/android-image-scale.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/android-image-scale.html" itemprop="url">
                  Android图片缩放
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-03-17T17:38:44+08:00">
                2014-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/android-image-scale.html" class="leancloud_visitors" data-flag-title="Android图片缩放">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>图片缩放有3种办法：</p>
<p>1.BitmapFactory和BitmapFactory.Options。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">BitmapFactory.Options options = <span class="keyword">new</span> BitmapFactory.Options();</div><div class="line">options.inJustDecodeBounds = <span class="keyword">true</span>;</div><div class="line"><span class="comment">// 记得把assets目录下的图片拷贝到SD卡中</span></div><div class="line"><span class="comment">// 由于设置inJustDecodeBounds为true，因此执行下面代码后bitmap为空</span></div><div class="line">mBitmap = BitmapFactory.decodeFile(&amp;quot;/sdcard/image.jpg&amp;quot;, options);</div><div class="line"><span class="comment">// 计算缩放比例，由于是固定比例缩放，只用高或者宽其中一个数据进行计算即可</span></div><div class="line"><span class="keyword">int</span> scale = (<span class="keyword">int</span>) (options.outHeight / (<span class="keyword">float</span>) <span class="number">200</span>);</div><div class="line"><span class="comment">// 因为结果为int型，如果相除后值为0.n，则最终结果将是0</span></div><div class="line"><span class="keyword">if</span> (scale &amp;lt;= <span class="number">0</span>)</div><div class="line">&#123;</div><div class="line">    scale = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">System.out.println(&amp;quot;Scale=&amp;quot; + scale);</div><div class="line">options.inSampleSize = scale;</div><div class="line">options.inJustDecodeBounds = <span class="keyword">false</span>;</div><div class="line"><span class="comment">// 重新读入图片，注意此时已经把options.inJustDecodeBounds设回false</span></div><div class="line">mBitmap = BitmapFactory.decodeFile(&amp;quot;/sdcard/image.jpg&amp;quot;, options);</div><div class="line"><span class="keyword">int</span> width = mBitmap.getWidth();</div><div class="line"><span class="keyword">int</span> height = mBitmap.getHeight();</div><div class="line">System.out.println(width + &amp;quot;   &amp;quot; + height);</div><div class="line">ImageView image = (ImageView) findViewById(R.id.image);</div><div class="line">image.setImageBitmap(mBitmap);</div></pre></td></tr></table></figure></p>
<p>此方法缩放只能是等比例缩放<br>参考文章：</p>
<p>2.Bitmap加Matrix。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Drawable <span class="title">resizeImage</span><span class="params">(Bitmap bitmap, <span class="keyword">int</span> w, <span class="keyword">int</span> h)</span>   </span></div><div class="line">&#123;    </div><div class="line">    Bitmap BitmapOrg = bitmap;    </div><div class="line">    <span class="keyword">int</span> width = BitmapOrg.getWidth();    </div><div class="line">    <span class="keyword">int</span> height = BitmapOrg.getHeight();    </div><div class="line">    <span class="keyword">int</span> newWidth = w;    </div><div class="line">    <span class="keyword">int</span> newHeight = h;    </div><div class="line"></div><div class="line">    <span class="keyword">float</span> scaleWidth = ((<span class="keyword">float</span>) newWidth) / width;    </div><div class="line">    <span class="keyword">float</span> scaleHeight = ((<span class="keyword">float</span>) newHeight) / height;    </div><div class="line"></div><div class="line">    Matrix matrix = <span class="keyword">new</span> Matrix();    </div><div class="line">    matrix.postScale(scaleWidth, scaleHeight);    </div><div class="line">    <span class="comment">// if you want to rotate the Bitmap     </span></div><div class="line">    <span class="comment">// matrix.postRotate(45);     </span></div><div class="line">    Bitmap resizedBitmap = Bitmap.createBitmap(BitmapOrg, <span class="number">0</span>, <span class="number">0</span>, width,    </div><div class="line">                    height, matrix, <span class="keyword">true</span>);    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> BitmapDrawable(resizedBitmap);    </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>此方法可以随意指定宽高</p>
<p>3.ThumbnailUtils.extractThumbnail(Bitmap source, int width, int height)<br>我这里使用的是第三种<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> viewW = mImage.getMeasuredWidth();</div><div class="line"><span class="keyword">int</span> viewH = mImage.getMeasuredHeight();</div><div class="line"></div><div class="line"><span class="keyword">int</span> imgW = mAdBitmap.getWidth();</div><div class="line"><span class="keyword">int</span> imgH = mAdBitmap.getHeight();</div><div class="line"></div><div class="line"><span class="keyword">float</span> scale = <span class="number">0f</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(imgW&amp;gt;imgH) &#123;</div><div class="line">    scale = (<span class="keyword">float</span>)viewW/imgW;</div><div class="line">&#125;<span class="keyword">else</span> &#123;</div><div class="line">    scale = (<span class="keyword">float</span>)viewH/imgH;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(scale == <span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div><div class="line">LogUtils.d(TAG, &amp;quot;scale:&amp;quot;+scale);</div><div class="line"><span class="keyword">int</span> dstW = (<span class="keyword">int</span>)(imgW*scale);</div><div class="line"><span class="keyword">int</span> dstH = (<span class="keyword">int</span>)(imgH*scale);</div><div class="line">Bitmap tmp = mAdBitmap;</div><div class="line">mAdBitmap = ThumbnailUtils.extractThumbnail(tmp, dstW, dstH);</div><div class="line">tmp.recycle();</div><div class="line">LogUtils.d(TAG, &amp;quot;viewW:&amp;quot;+viewW+&amp;quot;;viewH:&amp;quot;+viewH+&amp;quot;;imgW:&amp;quot;+imgW+&amp;quot;;imgH:&amp;quot;+imgH+&amp;quot;;dstW:&amp;quot;+dstW+&amp;quot;;dstH:&amp;quot;+dstH);</div><div class="line">mImage.setImageBitmap(mAdBitmap);</div></pre></td></tr></table></figure></p>
<p>参考文章：<br><a href="http://blog.csdn.net/lincyang/article/details/6651582" target="_blank" rel="external">http://blog.csdn.net/lincyang/article/details/6651582</a><br><a href="http://www.android-007.com/?p=249" target="_blank" rel="external">http://www.android-007.com/?p=249</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/apk-save-to-cachedir.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/apk-save-to-cachedir.html" itemprop="url">
                  Apk存储在App的Cache目录中，并且调用系统安装程序安装
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-03-17T16:58:18+08:00">
                2014-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/apk-save-to-cachedir.html" class="leancloud_visitors" data-flag-title="Apk存储在App的Cache目录中，并且调用系统安装程序安装">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>App中有时候会遇到需要下载一个其他的apk并安装它的需求，对于有SDCard的手机是没有问题的，就不多说了。有一些手机没有SD卡的手机，但是又必须要下载这个Apk，这时怎么办呢？大家都会想到存储到app的Cache目录中去。</p>
<p>coding… coding… coding… 下载写完了。</p>
<p>现在就是读取安装了，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startInstall</span><span class="params">(String path)</span> </span>&#123;</div><div class="line">    Uri uri = Uri.fromFile(<span class="keyword">new</span> File(path));</div><div class="line">    Intent intent = <span class="keyword">new</span> Intent(Intent.ACTION_VIEW);</div><div class="line">    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);<span class="comment">// 启动新的activity</span></div><div class="line">    intent.setDataAndType(uri, &amp;quot;application/vnd.android.<span class="keyword">package</span>-archive&amp;quot;);</div><div class="line">    GlobalApplication.getInstance().startActivity(intent);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行之后，会发现一个问题，安装程序会提示：“解析包出错”，无法安装。<br>这是什么原因呢？<span style="color: #ff0000;">因为cache目录下的文件所有权是属于当前这个app的，安装程序属于另外的app，是没有权限读取这个app下cache目录中的文件的。</span></p>
<p>知道原因之后就好办了，在调用上面的安装方法之前，修改一下cache目录下的文件让安装程序有权限读取就可以了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * 修改目录或者文件的权限</div><div class="line"> * <span class="doctag">@param</span> permission 权限</div><div class="line"> * <span class="doctag">@param</span> path 路径</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">chmod</span><span class="params">(String permission, String path)</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        String command = &amp;quot;chmod &amp;quot; + permission + &amp;quot; &amp;quot; + path;</div><div class="line">        LogUtils.d(TAG, command);</div><div class="line">        Runtime runtime = Runtime.getRuntime();</div><div class="line">        runtime.exec(command);</div><div class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">        LogUtils.e(TAG, &amp;quot;modify permission failed!&amp;quot;, e);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>到此就可以了，修改下上面的安装方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startInstall</span><span class="params">(String path)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!Constants.HAS_SD_CARD) &#123;</div><div class="line">        FileUtils.chmod(&amp;quot;<span class="number">604</span>&amp;quot;, path);</div><div class="line">    &#125;</div><div class="line">    Uri uri = Uri.fromFile(<span class="keyword">new</span> File(path));</div><div class="line">    Intent intent = <span class="keyword">new</span> Intent(Intent.ACTION_VIEW);</div><div class="line">    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);<span class="comment">// 启动新的activity</span></div><div class="line">    intent.setDataAndType(uri, &amp;quot;application/vnd.android.<span class="keyword">package</span>-archive&amp;quot;);</div><div class="line">    GlobalApplication.getInstance().startActivity(intent);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果你是在cache目录的根目录下存储的，那么到这里应该就成功了！<br>但是如果你用了更深层的目录结构,比如/apk/xxx.apk。这时候依然会得到”解析包出错”的提示。为什么呢？因为xxx.apk文件的权限改了，但是目录的权限还没改。所以在创建 ../apk/这个目录的时候 把这个目录的权限修改为701就可以了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getDownloadDir</span><span class="params">()</span> </span>&#123;</div><div class="line">	File dir = <span class="keyword">new</span> File(Constants.APK_DIR);</div><div class="line">	<span class="keyword">if</span>(!dir.exists()) &#123;</div><div class="line">	    <span class="keyword">if</span>(dir.mkdirs()) &#123;</div><div class="line">	        <span class="keyword">if</span>(!Constants.HAS_SD_CARD) &#123;</div><div class="line">	            FileUtils.chmod(&amp;quot;<span class="number">701</span>&amp;quot;, Constants.ROOT_DIR);</div><div class="line">	            FileUtils.chmod(&amp;quot;<span class="number">701</span>&amp;quot;, Constants.APK_DIR);</div><div class="line">	        &#125;</div><div class="line">	    &#125;</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> dir.getAbsolutePath();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>我这里是 多了一级 所以有个 root_dir和apk_dir<br>现在应该就可以正常运行了。</p>
<p>最后，至于为什么目录需要701文件需要601就可以了，这个跟linux的文件权限系统有关系，这里就不多说了。</p>
<p>参考文章：<br><a href="http://bbs.csdn.net/topics/380251598" target="_blank" rel="external">http://bbs.csdn.net/topics/380251598</a><br><a href="http://wenwen.soso.com/z/q454083947.htm" target="_blank" rel="external">http://wenwen.soso.com/z/q454083947.htm</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://proliang.com/overflow-menu.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Liang">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PRO.LIANG">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/overflow-menu.html" itemprop="url">
                  一直显示ActionBar的overflow menu
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-03-14T15:54:30+08:00">
                2014-03-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/overflow-menu.html" class="leancloud_visitors" data-flag-title="一直显示ActionBar的overflow menu">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数 </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在有实体menu键的手机上，actionBar的 overflow menu (那三个点)可能会不显示，下面的方法可以忽略掉实体menu键，让那三个点一直显示</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">forceShowActionBarOverflowMenu</span><span class="params">()</span> </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;  </div><div class="line">        ViewConfiguration config = ViewConfiguration.get(<span class="keyword">this</span>);  </div><div class="line">        Field menuKeyField = ViewConfiguration.class.getDeclaredField(&amp;quot;sHasPermanentMenuKey&amp;quot;);  </div><div class="line">        <span class="keyword">if</span> (menuKeyField != <span class="keyword">null</span>) &#123;  </div><div class="line">            menuKeyField.setAccessible(<span class="keyword">true</span>);  </div><div class="line">            menuKeyField.setBoolean(config, <span class="keyword">false</span>);  </div><div class="line">        &#125;  </div><div class="line">    &#125; <span class="keyword">catch</span> (Exception ignored) &#123;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在onCreate方法中调用此方法即可。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="Liang" />
          <p class="site-author-name" itemprop="name">Liang</p>
           
              <p class="site-description motion-element" itemprop="description">人一定要靠自己！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">49</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">15</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">62</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="http://proliang.com/feed" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Liang</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  
    

    
  





  



  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("iV7QoJid7bitJfuE1e4Rmhih-gzGzoHsz", "rHionfAngav976m39LhnK54b");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  


  

</body>
</html>
